{"ast":null,"code":"var _jsxFileName = \"/Users/Amina/Desktop/FoodApp/foodstore-front-end/src/containers/ProductDetails/index.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\nimport { connect } from 'react-redux';\nimport * as cartActions from '../../store/actions/cartActions';\nimport * as authActions from '../../store/actions/authActions';\nimport './style.css';\nimport { base_url } from '../../constants';\n\nclass ProductDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      product: null,\n      redirectToReferrer: false\n    };\n\n    this.addToCart = (productId, price, name, image) => {\n      if (!this.props.auth.isAuthenticated) {\n        this.props.history.push('/login');\n        return;\n      }\n\n      const auth = this.props.auth;\n      const cartItem = {\n        user: auth.user.userId,\n        product: productId,\n        name: name,\n        image: image,\n        quantity: 1,\n        price: price\n      };\n      this.props.addToCart(auth.token, cartItem).then(response => {\n        //console.log(response);\n        console.log(this.props.cart);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.auth.isAuthenticated) {\n      this.props.getToken().then(result => {\n        if (result) {\n          this.props.getCartItems(this.props.auth.token, this.props.auth.user.userId).then(response => {\n            console.log(response);\n          }).catch(error => {\n            console.log(error);\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n    const _this$props$match$par = this.props.match.params,\n          category = _this$props$match$par.category,\n          slug = _this$props$match$par.slug;\n    fetch(\"\".concat(base_url, \"/products/\").concat(category, \"/\").concat(slug)).then(response => response.json()).then(jsonResponse => {\n      if (jsonResponse.hasOwnProperty('message')) {\n        console.log(jsonResponse);\n        this.setState({\n          product: jsonResponse.message\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const product = this.state.product;\n    let productDescription;\n\n    if (this.state.product) {\n      productDescription = React.createElement(\"div\", {\n        className: \"Content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ProductDetailsWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ProductDetailsImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ProductDetailsImageWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: product.productPic[0].img,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ActionButtonWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          this.addToCart(product._id, product.price, product.name, product.productPic[0].img);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-shopping-cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), \"\\xA0ADD TO CART\"), React.createElement(\"button\", {\n        style: {\n          background: '#fb641b'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-bolt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), \"\\xA0BUY NOW\"))), React.createElement(\"div\", {\n        className: \"ProductDetails\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"BreadCrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Home > Mobiles > Iphone\")), React.createElement(\"p\", {\n        className: \"ProductTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, product.name), React.createElement(\"p\", {\n        className: \"ProductPrice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"$\", product.price), React.createElement(\"div\", {\n        className: \"ProductDescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Product Description\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, product.description)))), React.createElement(\"div\", {\n        className: \"SimilarProducts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Similar Products\"), React.createElement(\"div\", {\n        className: \"SimilarProductsWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SimilarProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SimilarProductImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://rukminim1.flixcart.com/image/312/312/jxz0brk0/mobile/u/u/v/realme-3i-rmx1827-original-imafgbbkzrgsstkj.jpeg?q=70\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"SimilarProductDetails\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Product Name\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"$ 36521\"))), React.createElement(\"div\", {\n        className: \"SimilarProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SimilarProductImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://rukminim1.flixcart.com/image/312/312/jzrb53k0pkrrdj/mobile/e/s/j/mi-redmi-7a-mzb8008in-original-imafg27hramfktfs.jpeg?q=70\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"SimilarProductDetails\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Product Name\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"$ 36521\"))), React.createElement(\"div\", {\n        className: \"SimilarProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SimilarProductImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://rukminim1.flixcart.com/image/495/594/jxgflow0/t-shirt/y/h/g/xxl-tnvgyvnful-d22-tripr-original-imafhuq2s3yxbx2t.jpeg?q=50\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"SimilarProductDetails\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Product Name\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"$ 36521\"))))), React.createElement(\"div\", {\n        className: \"ProductReviews\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Product Reviews\")));\n    } else {\n      productDescription = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Product is loading...!\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), productDescription);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    cart: state.cart\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addToCart: (token, cartItem) => dispatch(cartActions.addToCart(token, cartItem)),\n    getCartItems: (token, userId) => dispatch(cartActions.getCartItems(token, userId)),\n    getToken: () => dispatch(authActions.getToken())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);","map":{"version":3,"sources":["/Users/Amina/Desktop/FoodApp/foodstore-front-end/src/containers/ProductDetails/index.js"],"names":["React","Component","Redirect","Header","connect","cartActions","authActions","base_url","ProductDetails","state","product","redirectToReferrer","addToCart","productId","price","name","image","props","auth","isAuthenticated","history","push","cartItem","user","userId","quantity","token","then","response","console","log","cart","catch","error","componentDidMount","getToken","result","getCartItems","match","params","category","slug","fetch","json","jsonResponse","hasOwnProperty","setState","message","render","productDescription","productPic","img","_id","background","description","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\nimport { connect } from 'react-redux';\nimport * as cartActions from '../../store/actions/cartActions';\nimport * as authActions from '../../store/actions/authActions';\n\nimport './style.css';\nimport { base_url } from '../../constants';\n\nclass ProductDetails extends Component{\n\n    state = {\n        product: null,\n        redirectToReferrer: false\n    }\n\n    componentDidMount() {\n\n        if(!this.props.auth.isAuthenticated){\n            this.props.getToken()\n            .then(result => {\n                if(result){\n                    this.props.getCartItems(this.props.auth.token, this.props.auth.user.userId)\n                    .then(response => {\n                        console.log(response);\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    })\n                }\n            })\n            .catch(error => {\n                console.log(error);\n            })\n        }\n\n                \n\n        \n        const { category, slug } = this.props.match.params;\n        fetch(`${base_url}/products/${category}/${slug}`)\n        .then(response => response.json())\n        .then(jsonResponse => {\n\n            if(jsonResponse.hasOwnProperty('message')){\n                console.log(jsonResponse);\n                this.setState({\n                    product: jsonResponse.message\n                })\n            }\n\n        })\n        .catch(error => {\n            console.log(error);\n        });\n\n\n\n    }\n\n    addToCart = (productId, price, name, image) => {\n\n        if(!this.props.auth.isAuthenticated){\n            this.props.history.push('/login');\n            return;\n        }\n\n        const { auth } = this.props;\n        const cartItem = {\n            user: auth.user.userId,\n            product: productId,\n            name: name,\n            image: image,\n            quantity: 1,\n            price: price\n        }\n        this.props.addToCart(auth.token, cartItem)\n        .then(response => {\n            //console.log(response);\n            console.log(this.props.cart);\n        })\n        .catch(error => {\n            console.log(error);\n        });\n    }\n\n    render(){\n\n        const { product } = this.state;\n\n        let productDescription;\n\n        if(this.state.product){\n            productDescription = \n                <div className=\"Content\">\n                    <div className=\"ProductDetailsWrapper\">\n                        <div className=\"ProductDetailsImage\">\n                            <div className=\"ProductDetailsImageWrapper\">\n                                <img src={product.productPic[0].img} alt=\"\" />\n                            </div>\n                            <div className=\"ActionButtonWrapper\">\n                                <button onClick={() => { this.addToCart(product._id, product.price, product.name, product.productPic[0].img) }}><i className=\"fas fa-shopping-cart\"></i>&nbsp;ADD TO CART</button>\n                                <button style={{background: '#fb641b'}}><i className=\"fas fa-bolt\"></i>&nbsp;BUY NOW</button>\n                            </div>\n                        </div>\n                        <div className=\"ProductDetails\">\n                            <div className=\"BreadCrumb\">\n                                <small>Home > Mobiles > Iphone</small>\n                            </div>\n                            <p className=\"ProductTitle\">{product.name}</p>\n                            <p className=\"ProductPrice\">${product.price}</p>\n                            <div className=\"ProductDescription\">\n                                <h3>Product Description</h3>\n                                <p>{product.description}</p>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div className=\"SimilarProducts\">\n                        <h3>Similar Products</h3>\n                        <div className=\"SimilarProductsWrapper\">\n                            \n                            <div className=\"SimilarProduct\">\n                                <div className=\"SimilarProductImage\">\n                                    <img src=\"https://rukminim1.flixcart.com/image/312/312/jxz0brk0/mobile/u/u/v/realme-3i-rmx1827-original-imafgbbkzrgsstkj.jpeg?q=70\" alt=\"\"/>\n                                </div>\n                                <div className=\"SimilarProductDetails\">\n                                    <h5>Product Name</h5>\n                                    <p>$ 36521</p>\n                                </div>\n                            </div>\n\n                            <div className=\"SimilarProduct\">\n                                <div className=\"SimilarProductImage\">\n                                    <img src=\"https://rukminim1.flixcart.com/image/312/312/jzrb53k0pkrrdj/mobile/e/s/j/mi-redmi-7a-mzb8008in-original-imafg27hramfktfs.jpeg?q=70\" alt=\"\"/>\n                                </div>\n                                <div className=\"SimilarProductDetails\">\n                                    <h5>Product Name</h5>\n                                    <p>$ 36521</p>\n                                </div>\n                            </div>\n                            \n                            <div className=\"SimilarProduct\">\n                                <div className=\"SimilarProductImage\">\n                                    <img src=\"https://rukminim1.flixcart.com/image/495/594/jxgflow0/t-shirt/y/h/g/xxl-tnvgyvnful-d22-tripr-original-imafhuq2s3yxbx2t.jpeg?q=50\" alt=\"\"/>\n                                </div>\n                                <div className=\"SimilarProductDetails\">\n                                    <h5>Product Name</h5>\n                                    <p>$ 36521</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"ProductReviews\">\n                        <h3>Product Reviews</h3>\n                    </div>\n                    \n                </div>\n        }else{\n            productDescription = <div>Product is loading...!</div>\n        }\n        \n        \n\n        return (\n            <div>\n                <Header/>\n                {productDescription}\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        auth: state.auth,\n        cart: state.cart\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addToCart: (token, cartItem) => dispatch(cartActions.addToCart(token, cartItem)),\n        getCartItems: (token, userId) => dispatch(cartActions.getCartItems(token, userId)),\n        getToken: () => dispatch(authActions.getToken())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);"]},"metadata":{},"sourceType":"module"}