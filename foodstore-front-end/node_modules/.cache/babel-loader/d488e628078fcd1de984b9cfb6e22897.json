{"ast":null,"code":"import _defineProperty from \"/Users/Amina/Desktop/FoodApp/mystore-front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Amina/Desktop/FoodApp/mystore-front-end/src/containers/Signup/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport './style.css';\nimport Logo from '../../components/Logo';\nimport MobileTypeInput from '../../components/UI/MobileTypeInput';\nimport SubmitGradientButton from '../../components/UI/SubmitGradientButton';\nimport * as authActions from '../../store/actions/authActions';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Error from '../../components/Error';\n\nclass Signup extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirectToreferrer: false,\n      signupForm: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        repassword: '',\n        isError: false,\n        errorMessage: ''\n      }\n    };\n\n    this.textHandler = e => {\n      const signupForm = this.state.signupForm;\n\n      const updateSignupForm = _objectSpread({}, signupForm, {\n        [e.target.name]: e.target.value\n      });\n\n      this.setState({\n        signupForm: updateSignupForm\n      });\n    };\n\n    this.setError = (error, message) => {\n      const signupForm = this.state.signupForm;\n\n      const updatedSignupForm = _objectSpread({}, signupForm, {\n        isError: error,\n        errorMessage: message\n      });\n\n      this.setState({\n        signupForm: updatedSignupForm\n      });\n    };\n\n    this.signupHandler = e => {\n      e.preventDefault();\n      const signupForm = this.state.signupForm;\n\n      if (signupForm.firstName === '') {\n        this.setError(true, 'Enter First Name');\n        return;\n      }\n\n      if (signupForm.lastName === '') {\n        this.setError(true, 'Enter Last Name');\n        return;\n      }\n\n      const emailPattern = new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);\n\n      if (!emailPattern.test(signupForm.email)) {\n        this.setError(true, 'Invalid Email Address');\n        return;\n      }\n\n      if (signupForm.email === '') {\n        this.setError(true, 'Enter Email');\n        return;\n      }\n\n      if (signupForm.password === '') {\n        this.setError(true, 'Enter Password');\n        return;\n      }\n\n      if (signupForm.repassword === '') {\n        this.setError(true, 'Enter Repassword');\n        return;\n      }\n\n      if (signupForm.password !== signupForm.repassword) {\n        this.setError(true, 'Password dosent match');\n        return;\n      }\n\n      const user = {\n        firstName: signupForm.firstName,\n        lastName: signupForm.lastName,\n        email: signupForm.email,\n        password: signupForm.password\n      };\n      this.props.signup(user).then(jsonResponse => {\n        console.log(jsonResponse);\n        this.props.history.push({\n          pathname: '/login',\n          search: '?signup=success',\n          state: jsonResponse.message\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.auth.isAuthenticated) {\n      this.props.getToken().then(result => {\n        // result will be either true or false\n        if (result) {\n          this.setState({\n            redirectToreferrer: true\n          });\n        }\n      }).catch(er => {\n        console.log(er);\n      });\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          signupForm = _this$state.signupForm,\n          redirectToreferrer = _this$state.redirectToreferrer;\n\n    if (redirectToreferrer) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"LoginContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"WelcomeText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Signup\")), React.createElement(Logo, {\n      style: {\n        margin: '0 auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"LoginWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.signupHandler,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '49%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(MobileTypeInput, {\n      type: \"text\",\n      placeholder: \"First Name\",\n      value: signupForm.firstName,\n      textHandler: this.textHandler,\n      name: \"firstName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: '49%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(MobileTypeInput, {\n      type: \"text\",\n      placeholder: \"Last Name\",\n      value: signupForm.lastName,\n      textHandler: this.textHandler,\n      name: \"lastName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }))), React.createElement(MobileTypeInput, {\n      type: \"text\",\n      placeholder: \"Email\",\n      value: signupForm.email,\n      textHandler: this.textHandler,\n      name: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(MobileTypeInput, {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: signupForm.password,\n      textHandler: this.textHandler,\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(MobileTypeInput, {\n      type: \"password\",\n      placeholder: \"Re-enter Password\",\n      value: signupForm.repassword,\n      textHandler: this.textHandler,\n      name: \"repassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(Error, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, this.state.signupForm.errorMessage), React.createElement(SubmitGradientButton, {\n      label: \"Signup\",\n      style: {\n        marginTop: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Login\"), React.createElement(Link, {\n      to: \"/forget-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Forgot Password ?\")));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: user => dispatch(authActions.signup(user)),\n    getToken: () => dispatch(authActions.getToken())\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);","map":{"version":3,"sources":["/Users/Amina/Desktop/FoodApp/mystore-front-end/src/containers/Signup/index.js"],"names":["React","Component","Logo","MobileTypeInput","SubmitGradientButton","authActions","Link","Redirect","connect","Error","Signup","state","redirectToreferrer","signupForm","firstName","lastName","email","password","repassword","isError","errorMessage","textHandler","e","updateSignupForm","target","name","value","setState","setError","error","message","updatedSignupForm","signupHandler","preventDefault","emailPattern","RegExp","test","user","props","signup","then","jsonResponse","console","log","history","push","pathname","search","catch","componentDidMount","auth","isAuthenticated","getToken","result","er","render","margin","display","justifyContent","width","marginTop","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,eAAP,MAA4B,qCAA5B;AACA,OAAOC,oBAAP,MAAiC,0CAAjC;AACA,OAAO,KAAKC,WAAZ,MAA6B,iCAA7B;AAEA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAAUC,OAAV,QAAyB,aAAzB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AAEA,MAAMC,MAAN,SAAqBT,SAArB,CAA+B;AAAA;AAAA;AAAA,SAE3BU,KAF2B,GAEnB;AACJC,MAAAA,kBAAkB,EAAE,KADhB;AAEJC,MAAAA,UAAU,EAAE;AACRC,QAAAA,SAAS,EAAE,EADH;AAERC,QAAAA,QAAQ,EAAE,EAFF;AAGRC,QAAAA,KAAK,EAAE,EAHC;AAIRC,QAAAA,QAAQ,EAAE,EAJF;AAKRC,QAAAA,UAAU,EAAE,EALJ;AAMRC,QAAAA,OAAO,EAAE,KAND;AAORC,QAAAA,YAAY,EAAE;AAPN;AAFR,KAFmB;;AAAA,SAe3BC,WAf2B,GAeZC,CAAD,IAAO;AACjB,YAAMT,UAAU,GAAG,KAAKF,KAAL,CAAWE,UAA9B;;AACA,YAAMU,gBAAgB,qBACfV,UADe;AAElB,SAACS,CAAC,CAACE,MAAF,CAASC,IAAV,GAAkBH,CAAC,CAACE,MAAF,CAASE;AAFT,QAAtB;;AAIA,WAAKC,QAAL,CAAc;AACVd,QAAAA,UAAU,EAAEU;AADF,OAAd;AAGH,KAxB0B;;AAAA,SA0B3BK,QA1B2B,GA0BhB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AAAA,YACnBjB,UADmB,GACJ,KAAKF,KADD,CACnBE,UADmB;;AAE3B,YAAMkB,iBAAiB,qBAChBlB,UADgB;AAEnBM,QAAAA,OAAO,EAAEU,KAFU;AAGnBT,QAAAA,YAAY,EAAEU;AAHK,QAAvB;;AAKA,WAAKH,QAAL,CAAc;AACVd,QAAAA,UAAU,EAAEkB;AADF,OAAd;AAGH,KApC0B;;AAAA,SAsC3BC,aAtC2B,GAsCVV,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACW,cAAF;AADmB,YAEXpB,UAFW,GAEI,KAAKF,KAFT,CAEXE,UAFW;;AAGnB,UAAGA,UAAU,CAACC,SAAX,KAAyB,EAA5B,EAA+B;AAC3B,aAAKc,QAAL,CAAc,IAAd,EAAoB,kBAApB;AAAyC;AAC5C;;AACD,UAAGf,UAAU,CAACE,QAAX,KAAwB,EAA3B,EAA8B;AAC1B,aAAKa,QAAL,CAAc,IAAd,EAAoB,iBAApB;AACA;AACH;;AAED,YAAMM,YAAY,GAAG,IAAIC,MAAJ,CAAW,uIAAX,CAArB;;AACA,UAAG,CAACD,YAAY,CAACE,IAAb,CAAkBvB,UAAU,CAACG,KAA7B,CAAJ,EAAwC;AACpC,aAAKY,QAAL,CAAc,IAAd,EAAoB,uBAApB;AAA8C;AACjD;;AAED,UAAGf,UAAU,CAACG,KAAX,KAAqB,EAAxB,EAA2B;AACvB,aAAKY,QAAL,CAAc,IAAd,EAAoB,aAApB;AACA;AACH;;AACD,UAAGf,UAAU,CAACI,QAAX,KAAwB,EAA3B,EAA8B;AAC1B,aAAKW,QAAL,CAAc,IAAd,EAAoB,gBAApB;AACA;AACH;;AACD,UAAGf,UAAU,CAACK,UAAX,KAA0B,EAA7B,EAAgC;AAC5B,aAAKU,QAAL,CAAc,IAAd,EAAoB,kBAApB;AACA;AACH;;AACD,UAAGf,UAAU,CAACI,QAAX,KAAwBJ,UAAU,CAACK,UAAtC,EAAiD;AAC7C,aAAKU,QAAL,CAAc,IAAd,EAAoB,uBAApB;AACA;AACH;;AAED,YAAMS,IAAI,GAAG;AACTvB,QAAAA,SAAS,EAAED,UAAU,CAACC,SADb;AAETC,QAAAA,QAAQ,EAAEF,UAAU,CAACE,QAFZ;AAGTC,QAAAA,KAAK,EAAEH,UAAU,CAACG,KAHT;AAITC,QAAAA,QAAQ,EAAEJ,UAAU,CAACI;AAJZ,OAAb;AAOA,WAAKqB,KAAL,CAAWC,MAAX,CAAkBF,IAAlB,EACCG,IADD,CACMC,YAAY,IAAI;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACA,aAAKH,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB;AACpBC,UAAAA,QAAQ,EAAE,QADU;AAErBC,UAAAA,MAAM,EAAE,iBAFa;AAGrBpC,UAAAA,KAAK,EAAE8B,YAAY,CAACX;AAHC,SAAxB;AAKH,OARD,EASCkB,KATD,CASOnB,KAAK,IAAI;AACZa,QAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACH,OAXD;AAYH,KA1F0B;AAAA;;AA4F3BoB,EAAAA,iBAAiB,GAAG;AAChB,QAAG,CAAC,KAAKX,KAAL,CAAWY,IAAX,CAAgBC,eAApB,EAAoC;AAChC,WAAKb,KAAL,CAAWc,QAAX,GACCZ,IADD,CACMa,MAAM,IAAI;AACZ;AACA,YAAGA,MAAH,EAAU;AACN,eAAK1B,QAAL,CAAc;AACVf,YAAAA,kBAAkB,EAAE;AADV,WAAd;AAGH;AAEJ,OATD,EAUCoC,KAVD,CAUOM,EAAE,IAAI;AACTZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,EAAZ;AACH,OAZD;AAaH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AAAA,wBAEsC,KAAK5C,KAF3C;AAAA,UAEEE,UAFF,eAEEA,UAFF;AAAA,UAEcD,kBAFd,eAEcA,kBAFd;;AAIN,QAAGA,kBAAH,EAAsB;AAClB,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAEA,WACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,EAII,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAC4C,QAAAA,MAAM,EAAE;AAAT,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAE,KAAKxB,aAArB;AAAoC,MAAA,YAAY,EAAC,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAK,MAAA,KAAK,EAAE;AAACyB,QAAAA,OAAO,EAAE,MAAV;AAAkBC,QAAAA,cAAc,EAAE;AAAlC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE;AAAR,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,eAAD;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAC,YAFhB;AAGI,MAAA,KAAK,EAAE9C,UAAU,CAACC,SAHtB;AAII,MAAA,WAAW,EAAE,KAAKO,WAJtB;AAKI,MAAA,IAAI,EAAC,WALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAUI;AAAK,MAAA,KAAK,EAAE;AAACsC,QAAAA,KAAK,EAAE;AAAR,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,eAAD;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAC,WAFhB;AAGI,MAAA,KAAK,EAAE9C,UAAU,CAACE,QAHtB;AAII,MAAA,WAAW,EAAE,KAAKM,WAJtB;AAKI,MAAA,IAAI,EAAC,UALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAVJ,CAFJ,EAwBI,oBAAC,eAAD;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAC,OAFhB;AAGI,MAAA,KAAK,EAAER,UAAU,CAACG,KAHtB;AAII,MAAA,WAAW,EAAE,KAAKK,WAJtB;AAKI,MAAA,IAAI,EAAC,OALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBJ,EA+BI,oBAAC,eAAD;AACI,MAAA,IAAI,EAAC,UADT;AAEI,MAAA,WAAW,EAAC,UAFhB;AAGI,MAAA,KAAK,EAAER,UAAU,CAACI,QAHtB;AAII,MAAA,WAAW,EAAE,KAAKI,WAJtB;AAKI,MAAA,IAAI,EAAC,UALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/BJ,EAsCI,oBAAC,eAAD;AACI,MAAA,IAAI,EAAC,UADT;AAEI,MAAA,WAAW,EAAC,mBAFhB;AAGI,MAAA,KAAK,EAAER,UAAU,CAACK,UAHtB;AAII,MAAA,WAAW,EAAE,KAAKG,WAJtB;AAKI,MAAA,IAAI,EAAC,YALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtCJ,EA8CI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKV,KAAL,CAAWE,UAAX,CAAsBO,YAD3B,CA9CJ,EAkDI,oBAAC,oBAAD;AACI,MAAA,KAAK,EAAC,QADV;AAEI,MAAA,KAAK,EAAE;AAACwC,QAAAA,SAAS,EAAE;AAAZ,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlDJ,CADJ,CALJ,EA8DI;AAAK,MAAA,KAAK,EAAE;AAACH,QAAAA,OAAO,EAAE,MAAV;AAAkBC,QAAAA,cAAc,EAAE;AAAlC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,CA9DJ,CADJ;AAuEH;;AA7L0B;;AAgM/B,MAAMG,kBAAkB,GAAGC,QAAQ,IAAI;AACnC,SAAO;AACHvB,IAAAA,MAAM,EAAGF,IAAD,IAAUyB,QAAQ,CAACzD,WAAW,CAACkC,MAAZ,CAAmBF,IAAnB,CAAD,CADvB;AAEHe,IAAAA,QAAQ,EAAE,MAAMU,QAAQ,CAACzD,WAAW,CAAC+C,QAAZ,EAAD;AAFrB,GAAP;AAIH,CALD;;AAMA,MAAMW,eAAe,GAAGpD,KAAK,IAAI;AAC7B,SAAO;AACHuC,IAAAA,IAAI,EAAEvC,KAAK,CAACuC;AADT,GAAP;AAGH,CAJD;;AAMA,eAAe1C,OAAO,CAACuD,eAAD,EAAkBF,kBAAlB,CAAP,CAA6CnD,MAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport './style.css';\nimport Logo from '../../components/Logo';\nimport MobileTypeInput from '../../components/UI/MobileTypeInput';\nimport SubmitGradientButton from '../../components/UI/SubmitGradientButton';\nimport * as authActions from '../../store/actions/authActions';\n\nimport { Link, Redirect } from 'react-router-dom';\nimport  { connect } from 'react-redux';\nimport Error from '../../components/Error';\n\nclass Signup extends Component {\n\n    state = {\n        redirectToreferrer: false,\n        signupForm: {\n            firstName: '',\n            lastName: '',\n            email: '',\n            password: '',\n            repassword: '',\n            isError: false,\n            errorMessage: ''\n        }\n    }\n\n    textHandler = (e) => {\n        const signupForm = this.state.signupForm;\n        const updateSignupForm = {\n            ...signupForm,\n            [e.target.name] : e.target.value\n        }\n        this.setState({\n            signupForm: updateSignupForm\n        })\n    }\n\n    setError = (error, message) => {\n        const { signupForm } = this.state;\n        const updatedSignupForm = {\n            ...signupForm,\n            isError: error,\n            errorMessage: message\n        }\n        this.setState({\n            signupForm: updatedSignupForm\n        });\n    }\n\n    signupHandler = (e) => {\n        e.preventDefault();\n        const { signupForm } = this.state;\n        if(signupForm.firstName === ''){\n            this.setError(true, 'Enter First Name'); return;\n        }\n        if(signupForm.lastName === ''){\n            this.setError(true, 'Enter Last Name');\n            return;\n        }\n\n        const emailPattern = new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);\n        if(!emailPattern.test(signupForm.email)){\n            this.setError(true, 'Invalid Email Address'); return;\n        }\n\n        if(signupForm.email === ''){\n            this.setError(true, 'Enter Email');\n            return;\n        }\n        if(signupForm.password === ''){\n            this.setError(true, 'Enter Password');\n            return;\n        }\n        if(signupForm.repassword === ''){\n            this.setError(true, 'Enter Repassword');\n            return;\n        }\n        if(signupForm.password !== signupForm.repassword){\n            this.setError(true, 'Password dosent match');\n            return;\n        }\n\n        const user = {\n            firstName: signupForm.firstName,\n            lastName: signupForm.lastName,\n            email: signupForm.email,\n            password: signupForm.password\n        }\n\n        this.props.signup(user)\n        .then(jsonResponse => {\n            console.log(jsonResponse);\n            this.props.history.push({\n                pathname: '/login',\n               search: '?signup=success',\n               state: jsonResponse.message \n            });\n        })\n        .catch(error => {\n            console.log(error);\n        })\n    }\n\n    componentDidMount() {\n        if(!this.props.auth.isAuthenticated){\n            this.props.getToken()\n            .then(result => {\n                // result will be either true or false\n                if(result){\n                    this.setState({\n                        redirectToreferrer: true\n                    });\n                }\n                \n            })\n            .catch(er => {\n                console.log(er);\n            });\n        }\n    }\n\n    render() {\n\n       const { signupForm, redirectToreferrer }  = this.state;\n\n       if(redirectToreferrer){\n           return <Redirect to=\"/\" />\n       }\n\n        return (\n            <div className=\"LoginContainer\">\n                <div className=\"WelcomeText\">\n                    <h3>Signup</h3>\n                </div>\n                <Logo style={{margin: '0 auto'}} />\n                <div className=\"LoginWrapper\">\n                    <form onSubmit={this.signupHandler} autoComplete=\"off\">\n\n                        <div style={{display: 'flex', justifyContent: 'space-between'}}>\n                            <div style={{width: '49%'}}>\n                                <MobileTypeInput \n                                    type=\"text\"\n                                    placeholder=\"First Name\"\n                                    value={signupForm.firstName}\n                                    textHandler={this.textHandler}\n                                    name=\"firstName\"\n                                />\n                            </div>\n                            <div style={{width: '49%'}}>\n                                <MobileTypeInput \n                                    type=\"text\"\n                                    placeholder=\"Last Name\"\n                                    value={signupForm.lastName}\n                                    textHandler={this.textHandler}\n                                    name=\"lastName\"\n                                />\n                            </div>\n                        </div>\n                        \n                        \n                        <MobileTypeInput \n                            type=\"text\"\n                            placeholder=\"Email\"\n                            value={signupForm.email}\n                            textHandler={this.textHandler}\n                            name=\"email\"\n                        />\n                        <MobileTypeInput \n                            type=\"password\"\n                            placeholder=\"Password\"\n                            value={signupForm.password}\n                            textHandler={this.textHandler}\n                            name=\"password\"\n                        />\n                        <MobileTypeInput \n                            type=\"password\"\n                            placeholder=\"Re-enter Password\"\n                            value={signupForm.repassword}\n                            textHandler={this.textHandler}\n                            name=\"repassword\"\n                        />\n                        \n                        <Error>\n                            {this.state.signupForm.errorMessage}\n                        </Error>\n\n                        <SubmitGradientButton \n                            label=\"Signup\"\n                            style={{marginTop: '30px'}}\n                        />\n                    </form>\n                </div>\n                <div style={{display: 'flex', justifyContent: 'space-between'}}>\n                    <Link to=\"/login\">Login</Link>\n                    <Link to=\"/forget-password\">Forgot Password ?</Link>\n                </div>\n                \n                \n            </div>\n        );\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        signup: (user) => dispatch(authActions.signup(user)),\n        getToken: () => dispatch(authActions.getToken())\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        auth: state.auth\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);"]},"metadata":{},"sourceType":"module"}